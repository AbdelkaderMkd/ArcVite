import{l as v}from"./getDefaultUnitForView-0be39faa.js";import{f0 as C,dd as a,d6 as g,eS as R,f1 as j,f2 as y,f3 as A,f4 as S,f5 as Z,f6 as q,f7 as w,f8 as x}from"./index-80114339.js";import{i as E}from"./measurementUtils-570d6161.js";function B(t,e=$()){return m(t,e)}function D(t,e=$()){return m(t,e,!1)}function m(t,e,s=t.hasZ){const f=E(t.spatialReference),i=C(f);if(i==null)return null;const W=(l,r)=>!(r.length<2)&&(g(l,r[0],r[1],s&&r[2]||0),!0);let h=0;for(const l of t.rings){const r=l.length;if(r<3)continue;const{positionsWorldCoords:o}=e;for(;o.length<r;)o.push(a());const p=F,u=g(H,0,0,0),k=1/r;for(let n=0;n<r;n++){if(!W(p,l[n])||!R(p,t.spatialReference,o[n],f))return null;j(u,u,o[n],k)}const d=y(o[0],o[1],u,A());if(S(Z(d))===0)continue;for(let n=0;n<r;n++)q(d,u,o[n],o[n]);const c=J(o);for(let n=0;n<c.length;n+=3)h+=w(o[c[n]],o[c[n+1]],o[c[n+2]])}return v(h,i)}const F=a(),H=a();function $(){return{positionsWorldCoords:[]}}function J(t){return x(U(t),[],2)}function U(t){const e=new Float64Array(2*t.length);for(let s=0;s<t.length;++s){const f=t[s],i=2*s;e[i]=f[0],e[i+1]=f[1]}return e}export{J as U,B as g,D as h,$ as k};
