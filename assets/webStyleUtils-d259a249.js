import{ay as o,ir as u,cn as r,is as b,it as c,iu as m,cm as f,cr as w,iv as p,iw as d,ix as h,iy as $,iz as g}from"./index-3572d442.js";async function x(a,t,e){if(!a.name)throw new o("style-symbol-reference-name-missing","Missing name in style symbol reference");if(a.styleName&&a.styleName==="Esri2DPointSymbolsStyle")return N(a,e);try{return S(await u(a,t,e),a.name,t,e)}catch(n){return r(n),null}}async function N(a,t){const e=b.replaceAll(/\{SymbolName\}/gi,a.name);try{const n=await c(e,t);return m(n.data)}catch(n){return r(n),null}}async function S(a,t,e,n){const y={portal:(e==null?void 0:e.portal)!=null?e.portal:f.getDefault(),url:w(a.baseUrl),origin:"portal-item"},i=p(t,a.data);if(!i)throw new o("symbolstyleutils:symbol-name-not-found",`The symbol name '${t}' could not be found`,{symbolName:t});let s=d(h(i,"cimRef"),y);$()&&(s=g(s));try{const l=await c(s,n);return m(l.data)}catch(l){return r(l),null}}export{x as fetchCIMSymbolReference};
